<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bruce.designer.dao.mapper.VoteMapper">
 	
 	<!-- 根据optionId获取vote的信息-->
	<select id="loadByOptionId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select 
    
    tv.id, tv.title, tv.description, tv.thumb_pic_url, tv.pic_url, tv.sort, tv.max_check_limit, tv.max_repeat_limit, 
    tv.vote_start_time, tv.vote_end_time, tv.status, tv.create_time, tv.update_time
    
    from tb_vote tv, tb_vote_option tvo 
    where tvo.id = #{id,jdbcType=INTEGER} and tv.id = tvo.vote_id
  </select>
 	
</mapper>