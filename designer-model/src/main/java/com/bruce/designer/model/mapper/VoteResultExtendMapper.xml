<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bruce.designer.dao.mapper.VoteResultMapper">
 	
 	<resultMap id="CountCacheMap" type="com.bruce.designer.data.CountCacheBean">
	    <result column="vote_option_id" jdbcType="INTEGER" property="member"/>
	    <result column="vote_num" jdbcType="BIGINT" property="score"/>
    </resultMap>
 	
 	
	<!-- 统计投票的选项数量 -->
	<select id="queryVoteResultStat" resultMap="CountCacheMap">
		select vote_option_id vote_option_id, count(id) vote_num from tb_vote_result where vote_id=${voteId} group by vote_option_id;
	</select>
 	
</mapper>